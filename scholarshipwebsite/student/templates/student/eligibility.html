{% extends 'student/base.html' %}
{% load static %}

{% block content %}
<div class="eligibility-container">
    
    <h1 class="page-title">Eligibility Checker</h1>

    <div class="student-summary" style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
        <h3>Checking Eligibility For:</h3>
        <p><strong>Name:</strong> {{ request.user.get_full_name }}</p>
        <p><strong>Current GPA:</strong> {{ student.current_gpa }}</p>
        <p><strong>Education Level:</strong> {{ student.education_level }}</p>
        <p><strong>Type:</strong> {{ student.student_type }}</p>
    </div>

    <div class="results-section">
        <h2>Scholarships You Are Eligible For</h2>
        
        {% if eligible_scholarships %}
            <table class="scholarship-table" style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                <thead>
                    <tr style="background-color: #003366; color: white; text-align: left;">
                        <th style="padding: 12px;">Scholarship Name</th>
                        <th style="padding: 12px;">Amount/Coverage</th>
                        <th style="padding: 12px;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for scholarship in eligible_scholarships %}
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 12px;">{{ scholarship.scholarship_name }}</td>
                        <td style="padding: 12px;">{{ scholarship.description|truncatewords:10 }}</td>
                        <td style="padding: 12px;">
                            <a href="{% url 'scholarship_details' scholarship.id %}" class="btn-view" style="color: #003366; font-weight: bold;">View Details</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <div class="no-results" style="text-align: center; padding: 40px; color: #666;">
                <p>Based on your current profile, we couldn't find any matching scholarships.</p>
                <p>Try updating your profile if your GPA or details have changed.</p>
            </div>
        {% endif %}
    </div>

    <div class="action-buttons">
        <a href="{% url 'student' %}" class="btn-nav">Home</a>
        <a href="#" class="btn-nav">Apply Now</a>
    </div>

</div>
{% endblock %}